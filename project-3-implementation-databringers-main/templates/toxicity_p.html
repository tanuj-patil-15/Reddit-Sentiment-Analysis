<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>


<style>
  .chart{
    height: 500px;
    width: 500px;
  }
</style>   


<div class="pie-chart">
    <canvas class="pie-chart" id="b_tox"></canvas>
</div>
<script>
var r_d = {{tox_r | safe}}
var y_d = {{tox_y | safe}}
var t_d = {{tox_t | safe}}
var labels = {{dates | safe}}
let t_avg = 0
let r_avg = 0
let y_avg = 0
t_d.forEach(element => {
    t_avg += element;
});
r_d.forEach(element => {
    r_avg += element;
});
y_d.forEach(element => {
    y_avg += element;
});
t_avg =t_avg/t_d.length;
r_avg =r_avg/r_d.length;
y_avg =y_avg/y_d.length;
const ctxt = document.getElementById("b_tox").getContext("2d");
new Chart(ctxt, {
  type: 'bar',
  data: {
    labels: ['Twitter', 'Reddit', 'Youtube'],
    datasets: [{
      label: 'Toxicity Analysis on twitter, reddit, youtube',
      data: [t_avg,r_avg,y_avg],
      borderWidth: 1,
      backgroundColor: [
      'rgba(255, 180, 69, 0.2)',
      'rgba(255, 180, 69, 0.2)',
      'rgba(255, 235, 69, 0.2)'
    ],
    }]
  },
  options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});
  </script>
  



  

